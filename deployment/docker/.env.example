# Battle Castles Environment Configuration
# Copy this file to .env and update with your actual values

# ============================================
# Application Configuration
# ============================================
NODE_ENV=production
LOG_LEVEL=info

# ============================================
# PostgreSQL Database Configuration
# ============================================
POSTGRES_DB=battlecastles
POSTGRES_USER=battlecastles
POSTGRES_PASSWORD=CHANGE_ME_IN_PRODUCTION_strong_password_123!
POSTGRES_HOST=postgres
POSTGRES_PORT=5432

# Database URL (constructed from above values)
DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}

# ============================================
# Redis Cache Configuration
# ============================================
REDIS_PASSWORD=CHANGE_ME_IN_PRODUCTION_redis_password_456!
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_URL=redis://:${REDIS_PASSWORD}@${REDIS_HOST}:${REDIS_PORT}

# ============================================
# Game Server Configuration
# ============================================
# Maximum number of concurrent game rooms per server instance
MAX_ROOMS=100

# Maximum players per game room (typically 2 for 1v1)
MAX_PLAYERS_PER_ROOM=2

# Server tick rate (updates per second)
TICK_RATE=20

# Game duration in seconds
GAME_DURATION=180

# Starting elixir for each player
STARTING_ELIXIR=5

# Maximum elixir capacity
MAX_ELIXIR=10

# Elixir regeneration rate (per second)
ELIXIR_REGEN_RATE=1.4

# ============================================
# CORS Configuration
# ============================================
# Allowed origins (comma-separated for multiple origins)
# Use * for development, specific domains for production
CORS_ORIGIN=*

# ============================================
# SSL/TLS Configuration
# ============================================
# Set to true to enable HTTPS
SSL_ENABLED=false

# Paths to SSL certificate files (if SSL_ENABLED=true)
SSL_CERT_PATH=/etc/nginx/ssl/cert.pem
SSL_KEY_PATH=/etc/nginx/ssl/key.pem

# ============================================
# Monitoring & Metrics (Optional)
# ============================================
# Prometheus metrics endpoint
METRICS_ENABLED=true
METRICS_PORT=9100

# Grafana admin credentials
GRAFANA_USER=admin
GRAFANA_PASSWORD=CHANGE_ME_IN_PRODUCTION_grafana_789!

# ============================================
# Authentication & Security
# ============================================
# JWT Secret for token signing
JWT_SECRET=CHANGE_ME_IN_PRODUCTION_very_long_random_secret_key_xyz_123456789

# JWT expiration time (in seconds)
JWT_EXPIRATION=86400

# Session secret
SESSION_SECRET=CHANGE_ME_IN_PRODUCTION_session_secret_abc_987654321

# ============================================
# Rate Limiting
# ============================================
# Requests per minute for API endpoints
API_RATE_LIMIT=100

# WebSocket connections per IP
WS_RATE_LIMIT=10

# ============================================
# Matchmaking Configuration
# ============================================
# Matchmaking timeout in seconds
MATCHMAKING_TIMEOUT=30

# Max skill rating difference for matchmaking
MATCHMAKING_SKILL_RANGE=200

# ============================================
# Networking Configuration
# ============================================
# Server ports
HTTP_PORT=80
HTTPS_PORT=443
GAME_SERVER_PORT=3001

# ============================================
# Backup Configuration
# ============================================
# Backup storage path
BACKUP_PATH=/var/backups/battlecastles

# Number of backups to retain
BACKUP_RETENTION_DAYS=7

# S3 backup configuration (optional)
S3_BACKUP_ENABLED=false
S3_BUCKET_NAME=
S3_ACCESS_KEY=
S3_SECRET_KEY=
S3_REGION=us-east-1

# ============================================
# Email Configuration (Optional)
# ============================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=
EMAIL_FROM=noreply@battlecastles.game

# ============================================
# Error Reporting (Optional)
# ============================================
# Sentry DSN for error tracking
SENTRY_DSN=

# ============================================
# Feature Flags
# ============================================
# Enable/disable features
FEATURE_MATCHMAKING=true
FEATURE_RANKED_MODE=false
FEATURE_TOURNAMENTS=false
FEATURE_CLAN_SYSTEM=false

# ============================================
# Development & Debug
# ============================================
# Enable debug logging
DEBUG=false

# Enable hot reload (development only)
HOT_RELOAD=false

# ============================================
# Docker Compose Overrides
# ============================================
# Scale game servers (number of instances)
GAME_SERVER_REPLICAS=2

# ============================================
# Kubernetes Configuration (if using K8s)
# ============================================
K8S_NAMESPACE=battlecastles
K8S_CLUSTER_NAME=battlecastles-cluster
K8S_MIN_REPLICAS=2
K8S_MAX_REPLICAS=10
K8S_TARGET_CPU_UTILIZATION=70
